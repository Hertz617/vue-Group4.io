import{_ as P,d as C,o as E,h as k,i as u,a as t,w as o,F as B,g as F,j as U,k as D,b as m,l as v,e as T,f as _,E as $}from"./index-1ed31e3c.js";import{E as L}from"./el-date-picker-c767ab16.js";import{E as s,a as N,b as S,c as W}from"./el-select-d613de18.js";import{p as z,a as A,b as j,c as M}from"./patent-4bb15da4.js";/* empty css                   */import{c as O}from"./cloneDeep-d951e9a5.js";import"./index-f4cb1fd9.js";const q=C({name:"cli-patent",data(){return{UserID:0,searchText:"",patent:[],patents:[],page:{total:0,current:1,size:5},dialogFormVisible:!1,dialogFormVisibleById:!1,adPatent:{address:"",attachment:"",empowerTime:"",id:0,name:"",patentNo:"",type:"",userId:parseInt(localStorage.getItem("UserID"))},formLabelWidth:120}},mounted(){this.getById(parseInt(localStorage.getItem("UserID")))},methods:{toEdit(e){this.dialogFormVisible=!0,this.adPatent=O(e)},currentchange(e){this.getById(parseInt(localStorage.getItem("UserID"))),this.page.current=e},del(e){confirm("是否删除")==!0&&z({id:e}).then(n=>{if(console.log(n),n.success)this.getById(parseInt(localStorage.getItem("UserID")));else return!1}).catch(n=>{s("删除失败")})},toAdd(){this.dialogFormVisible=!0,this.adPatent={address:"",attachment:"",empowerTime:"",id:0,name:"",patentNo:"",type:"",userId:parseInt(localStorage.getItem("UserID"))}},selectById(){this.dialogFormVisibleById=!0},getById(e){this.patent=[],A({id:e}).then(n=>{this.dialogFormVisibleById=!1;const f=n.data;this.patent=f.patents,this.page=f}).catch(n=>{s("您尚未上传专利"),console.log(n)})},save(){const e=this.adPatent;e.id==0?j(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getById(parseInt(localStorage.getItem("UserID"))),s(a.msg);else return s(a.msg),!1}).catch(a=>{s("网络添加错误联系管理员")}):M(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getById(parseInt(localStorage.getItem("UserID"))),s(a.msg);else return s(a.msg),!1}).catch(a=>{s("网络编辑错误联系管理员")})}}}),G={class:"patent"},H={class:"patent-tools"},J={class:"dialog-footer"},K={class:"dialog-footer"};function Q(e,a,n,f,R,X){const i=F,d=v,I=U,V=N,p=T,r=_,g=S,c=W,w=L,b=$,h=D;return E(),k(B,null,[u("div",G,[u("div",H,[t(i,{type:"warning",onClick:e.toAdd},{default:o(()=>[m("添加")]),_:1},8,["onClick"])]),t(I,{data:e.patent,style:{width:"100%"}},{default:o(()=>[t(d,{fixed:"",prop:"id",width:"50"}),t(d,{prop:"name",label:"专利名称",width:"180"}),t(d,{prop:"userId",label:"发明人",width:"80"}),t(d,{prop:"type",label:"专利类型",width:"120"}),t(d,{prop:"empowerTime",label:"授权时间",width:"250"}),t(d,{prop:"attachment",label:"佐证材料",width:"180"}),t(d,{prop:"address",label:"申请地址",width:"150"}),t(d,{prop:"patentNo",label:"专利号",width:"180"}),t(d,{fixed:"right",label:"功能管理",width:"100"},{default:o(l=>[t(i,{link:"",type:"primary",size:"small",onClick:y=>e.toEdit(l.row)},{default:o(()=>[m("更新")]),_:2},1032,["onClick"]),t(i,{link:"",type:"primary",size:"small",onClick:y=>e.del(l.row.id)},{default:o(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(V,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),t(h,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[7]||(a[7]=l=>e.dialogFormVisible=l),title:"专利编辑"},{footer:o(()=>[u("span",J,[t(i,{onClick:a[6]||(a[6]=l=>e.dialogFormVisible=!1)},{default:o(()=>[m("Cancel")]),_:1}),t(i,{type:"primary",onClick:e.save},{default:o(()=>[m("保存 ")]),_:1},8,["onClick"])])]),default:o(()=>[t(b,{model:e.adPatent},{default:o(()=>[t(r,{label:"专利名称","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adPatent.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.adPatent.name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(r,{label:"专利类型","label-width":e.formLabelWidth},{default:o(()=>[t(c,{modelValue:e.adPatent.type,"onUpdate:modelValue":a[1]||(a[1]=l=>e.adPatent.type=l),placeholder:"请选择专利类型",autocomplete:"off"},{default:o(()=>[t(g,{label:"发明专利",value:"发明专利"}),t(g,{label:"实用新型专利",value:" 实用新型专利"}),t(g,{label:"外观设计",value:"外观设计"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),t(r,{label:"授权时间","label-width":e.formLabelWidth},{default:o(()=>[t(w,{modelValue:e.adPatent.empowerTime,"onUpdate:modelValue":a[2]||(a[2]=l=>e.adPatent.empowerTime=l),autocomplete:"off",placeholder:"选择日期"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(r,{label:"佐证材料","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adPatent.attachment,"onUpdate:modelValue":a[3]||(a[3]=l=>e.adPatent.attachment=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(r,{label:"申请地址","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adPatent.address,"onUpdate:modelValue":a[4]||(a[4]=l=>e.adPatent.address=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(r,{label:"专利号","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adPatent.patentNo,"onUpdate:modelValue":a[5]||(a[5]=l=>e.adPatent.patentNo=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(h,{modelValue:e.dialogFormVisibleById,"onUpdate:modelValue":a[11]||(a[11]=l=>e.dialogFormVisibleById=l),title:"专利查询"},{footer:o(()=>[u("span",K,[t(i,{onClick:a[9]||(a[9]=l=>e.dialogFormVisibleById=!1)},{default:o(()=>[m("Cancel")]),_:1}),t(i,{type:"primary",onClick:a[10]||(a[10]=l=>e.getById(e.searchText))},{default:o(()=>[m("查询 ")]),_:1})])]),default:o(()=>[t(b,{model:e.adPatent},{default:o(()=>[t(r,{label:"请输入专利ID","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.searchText,"onUpdate:modelValue":a[8]||(a[8]=l=>e.searchText=l),placeholder:"按专利ID查询，请输入专利ID",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const oe=P(q,[["render",Q]]);export{oe as default};
